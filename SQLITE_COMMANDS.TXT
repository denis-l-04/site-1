CREATE TABLE countries (
    id INTEGER NOT NULL UNIQUE PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL
);
CREATE TABLE cities (
    id INTEGER NOT NULL UNIQUE PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	country_id INTEGER NOT NULL,
	FOREIGN KEY (country_id) REFERENCES countries(id)
);
CREATE TABLE producers(
	id INTEGER NOT NULL UNIQUE PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	city_id INTEGER NOT NULL,
	FOREIGN KEY (city_id) REFERENCES cities(id)
);
CREATE TABLE providers(
	id INTEGER NOT NULL UNIQUE PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	city_id INTEGER NOT NULL,
	FOREIGN KEY (city_id) REFERENCES cities(id)
);
CREATE TABLE products(
	id INTEGER NOT NULL UNIQUE PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	amount INTEGER NOT NULL,
	price REAL NOT NULL,
	discount REAL NOT NULL,
	producer_id INTEGER NOT NULL,
	provider_id INTEGER NOT NULL,
	image_link TEXT,
	FOREIGN KEY (producer_id) REFERENCES producers(id),
	FOREIGN KEY (provider_id) REFERENCES providers(id)
);
CREATE TABLE users(
	id INTEGER NOT NULL UNIQUE PRIMARY KEY AUTOINCREMENT,
	email TEXT UNIQUE,
	phone TEXT UNIQUE,
	password TEXT NOT NULL,
	name TEXT NOT NULL,
	surname TEXT NOT NULL,
	sign_up_date TEXT NOT NULL
);
CREATE TABLE purchases(
	id INTEGER NOT NULL UNIQUE PRIMARY KEY AUTOINCREMENT,
	user_id INTEGER NOT NULL,
	product_id INTEGER NOT NULL,
	amount INTEGER NOT NULL,
	price REAL NOT NULL,
	discount REAL NOT NULL,
	date TEXT NOT NULL,
	FOREIGN KEY (user_id) REFERENCES users(id),
	FOREIGN KEY (product_id) REFERENCES products(id)
);
CREATE TABLE supplies(
	product_id INTEGER NOT NULL,
	amount INTEGER NOT NULL,
	date TEXT NOT NULL,
	FOREIGN KEY (product_id) REFERENCES products(id)
);